# A-Simple-Encoding-Algorithm

## 0 简介

本项目为华东师范大学信息系统安全概论的课程作业，设计思路参照作业要求。

## 1 作业要求

* 结合采用维吉尼亚（Vigenere）表的一次密码本加密以及列置换加密方案，设计一个加密算法，并编程加以实现。
* 密钥为一个随机密码本中的一个随机段落。
* 包括加密算法、解密算法以及相应的界面。
* 要有算法和程序开发、运行环境等相关说明。

## 2 环境说明

##### 2.1 操作系统

本项目在Linux-Ubuntu操作系统下编写，语言为英文，请确保所有的输入为英文字母。

##### 2.2 编程环境

本项目由Qt Creator编写，使用qmake而非cmake，搬运请注意Qt版本应该大于Qt4。

##### 2.3 编程语言

本项目主要由C++编写，请确保C++11配置成功。

## 3 算法说明

##### 3.0 算法概述

本加密算法结合采用维吉尼亚（Vigenere）表的一次密码本加密以及列置换加密，主要分为以下过程：

1. 用户输入明文（pt）-> 经过简单列置换算法得到转置明文（t_pt）
2. 可更改的密钥（key）
3. 分别使用t_pt和key作为行列坐标，通过维吉尼亚表进行置换得到秘文（ct）

解密算法为加密算法的逆过程：

1. 查找ct对应key所得到的t_pt
2. t_pt -> pt

##### 3.1 具体实现

1. pt <-> t_pt

   该过程为简单列置换算法，参见函数`col_permute()`。初始的辅助表列数为5，改变第二个参数以修改该规格。需要注意的是，当输入的字符串经过处理（略去标点符号并处理大小写）后得到的明文不足辅助表列数时，自动在结尾处补足字符‘x’。将字符串行入列出，得到转置明文。

   该过程的逆过程只需要调整辅助表的行数为原过程的列数即可。

2. 查表置换

   该过程视为简单字符运算，公式如下：

   $pt+(key-'a')=ct$

   $ct-(key-'a')=pt$

   需要注意的是，简单公式的计算结果可能超出英文字母的范围，结果需要加或减26来确保输出英文字母。

##### 3.2 特别说明

1. 为了实现用户自定义的密码本，请在程序的运行目录下新建“key.txt”文件
2. 如果你不知道程序的运行目录，请参照QT手册

## 4 界面说明

本界面设计以奥卡姆剃刀原则为核心，所有界面的交互功能均根据用途而设计。

主要界面由左上角的单选按钮确定为加密/解密模式，当然所处模式会显示在底部状态栏；

当选择加密模式时，左侧输入框变为可用，右侧输入框变为只读，输入可以包括任何字符，但只有大小写英文字母为有效字符。当输入为空时会弹出提示框；

当选择解密模式时，右侧输入框变为可用，相应的左侧输入框变为只读，中间按钮会变成‘DECRYPT’。

密码本为用户自定义密码本，点击主界面右上角按钮，可以进入密码本编辑界面。输入可以包括任何字符，但只有大小写英文字符为有效字符。通过保存按钮来应用修改。

**当然，不是所有错误都能被原谅：如果你非要尝试输入一个空串来检查我有没有做边界处理，你的程序将会Crash，OK？**

如果密码本的有效字符长度不足（前提是你确实输入了一些东西），会复制自己并添加到最后。







